9000  REM  Unix Time to Human Time
9005  CLS
9010  PRINT "Enter a blank line to return."
9020  PRINT
9030  PRINT "Seconds since epoch";
9040  INPUT T$
9050  IF T$ = "" THEN 9530
9060  T = INT(T$)
9070  REM  https://git.musl-libc.org/cgit/musl/tree/src/time/__secs_to_tm.c
9080  LEAPOCH = (946684800 + 86400 * (31 + 29))
9090  DAYS_PER_400Y = (365 * 400 + 97)
9100  DAYS_PER_100Y = (365 * 100 + 24)
9110  DAYS_PER_4Y   = (365 * 4 + 1)
9120  DAYS_IN_MONTH(0) = 31
9130  DAYS_IN_MONTH(1) = 30
9140  DAYS_IN_MONTH(2) = 31
9150  DAYS_IN_MONTH(3) = 30
9160  DAYS_IN_MONTH(4) = 31
9170  DAYS_IN_MONTH(5) = 31
9180  DAYS_IN_MONTH(6) = 30
9190  DAYS_IN_MONTH(7) = 31
9200  DAYS_IN_MONTH(8) = 30
9210  DAYS_IN_MONTH(9) = 31
9220  DAYS_IN_MONTH(10) = 31
9230  DAYS_IN_MONTH(11) = 29
9240  SECS = T - LEAPOCH
9250  DAYS = INT(SECS / 86400)
9260  REMSECS = SECS MOD 86400
9270  IF REMSECS < 0 THEN REMSECS = REMSECS + 86400 : DAYS = DAYS - 1
9280  WDAY = (3 + DAYS) MOD 7
9290  IF WDAY < 0 THEN WDAY = WDAY + 7
9300  QC_CYCLES = INT(DAYS / DAYS_PER_400Y)
9310  REMDAYS = DAYS MOD DAYS_PER_400Y
9320  IF REMDAYS < 0 THEN REMDAYS = REMDAYS + DAYS_PER_400Y : QC_CYCLES = QC_CYCLES - 1
9330  C_CYCLES = INT(REMDAYS / DAYS_PER_100Y)
9340  IF C_CYCLES = 4 THEN C_CYCLES = C_CYCLES - 1
9350  REMDAYS = REMDAYS - C_CYCLES * DAYS_PER_100Y
9360  Q_CYCLES = INT(REMDAYS / DAYS_PER_4Y)
9370  IF Q_CYCLES = 25 THEN Q_CYCLES = Q_CYCLES - 1
9380  REMDAYS = REMDAYS - Q_CYCLES * DAYS_PER_4Y
9390  REMYEARS = INT(REMDAYS / 365)
9400  IF REMYEARS = 4 THEN REMYEARS = REMYEARS - 1
9410  REMDAYS = REMDAYS - REMYEARS * 365
9420  LEAP = NOT REMYEARS AND (Q_CYCLES OR NOT C_CYCLES)
9430  YDAY = REMDAYS + 31 + 28 + LEAP
9440  IF YDAY >= 365 + LEAP THEN YDAY = YDAY - (365 + LEAP)
9450  YEARS = REMYEARS + 4*Q_CYCLES + 100*C_CYCLES + 400*QC_CYCLES
9460  MONTHS = 0
9470  IF DAYS_IN_MONTH(MONTHS) > REMDAYS THEN 9510
9480  REMDAYS = REMDAYS - DAYS_IN_MONTH(MONTHS)
9490  MONTHS = MONTHS + 1
9500  GOTO 9470
9510  TM_YEAR = YEARS + 100
9520  TM_MON = MONTHS + 2
9530  IF TM_MON >= 12 THEN TM_MON = TM_MON - 12 : TM_YEAR = TM_YEAR + 1
9540  TM_MDAY = REMDAYS + 1
9550  TM_WDAY = WDAY
9560  TM_YDAY = YDAY
9570  TM_HOUR = INT(REMSECS / 3600)
9580  TM_MIN = INT(REMSECS / 60) MOD 60
9590  TM_SEC = REMSECS MOD 60
9600  TM_MON = TM_MON + 1  REM  Not in musl
9610  TM_YEAR = 1970 + INT(T / 31557600)  REM  Not in musl
9620  PRINT
9630  PRINT "Year", TM_YEAR
9640  PRINT "Month", TM_MON
9650  PRINT "Day", TM_MDAY
9660  REM PRINT "Day of Week", TM_WDAY
9670  REM PRINT "Day of Year", TM_YDAY
9680  PRINT "Hour", TM_HOUR
9690  PRINT "Minute", TM_MIN
9700  PRINT "Second", TM_SEC
9710  GOTO 9020
